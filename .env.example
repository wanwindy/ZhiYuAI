# ZhiYUAI Environment Configuration

# ============ 基础配置 ============
APP_NAME=ZhiYUAI
APP_VERSION=2.0.0
ENVIRONMENT=development  # development, staging, production
DEBUG=true

# ============ 服务配置 ============
HOST=0.0.0.0
PORT=8000

# ============ 数据库配置 ============
DATABASE_URL=postgresql://postgres:postgres123@localhost:5432/gummy_translator
DATABASE_POOL_SIZE=10
DATABASE_MAX_OVERFLOW=20
DATABASE_POOL_TIMEOUT=30

# ============ Redis配置 ============
REDIS_URL=redis://localhost:6379/0
REDIS_MAX_CONNECTIONS=10
REDIS_RETRY_ON_TIMEOUT=true

# ============ 消息队列配置 ============
RABBITMQ_URL=amqp://admin:admin123@localhost:5672/

# ============ 安全配置 ============
JWT_SECRET=your-super-secret-jwt-key-change-in-production
JWT_ALGORITHM=HS256
JWT_EXPIRATION=3600

# ============ AI服务API密钥 ============

# 阿里云百炼
AI_ALIBABA_API_KEY=your-alibaba-api-key
AI_ALIBABA_ENDPOINT=https://dashscope.aliyuncs.com

# 百度云
AI_BAIDU_API_KEY=your-baidu-api-key
AI_BAIDU_SECRET_KEY=your-baidu-secret-key
AI_BAIDU_ENDPOINT=https://aip.baidubce.com

# Azure认知服务
AI_AZURE_API_KEY=your-azure-api-key
AI_AZURE_REGION=eastus
AI_AZURE_ENDPOINT=https://api.cognitive.microsofttranslator.com

# Google Cloud
AI_GOOGLE_API_KEY=your-google-api-key
AI_GOOGLE_PROJECT_ID=your-project-id

# SiliconFlow
AI_SILICONFLOW_API_KEY=your-siliconflow-api-key

# Qwen-VL (OpenAI兼容) 可选配置
AI_QWEN_COMPAT_BASE_URL=https://dashscope.aliyuncs.com/compatible-mode/v1
AI_QWEN_VL_MODEL=qwen3-vl-plus

# DashScope 通用（推荐设置此项，供 ASR/TTS/多模态统一使用）

# DashScope / Qwen settings
DASHSCOPE_API_KEY=
DASHSCOPE_BASE_URL=https://dashscope.aliyuncs.com/compatible-mode/v1
AI_CLIENT_TIMEOUT=60

# Model choices
LLM_MODEL=qwen3-max
TRANSLATION_MODEL=qwen3-max
VISION_MODEL=qwen-vl-max-latest
ASR_TRANSLATION_MODEL=gummy-realtime-v1
ASR_SAMPLE_RATE=16000
TTS_MODEL=qwen3-tts-flash
TTS_VOICE=Cherry
TTS_LANGUAGE_TYPE=Chinese
TTS_AUDIO_FORMAT=wav
DEFAULT_TARGET_LANGUAGE=en

# Voice interaction defaults
MAX_AUDIO_BYTES=5242880
TTS_FETCH_TIMEOUT=30


# DeepL
AI_DEEPL_API_KEY=your-deepl-api-key
AI_DEEPL_ENDPOINT=https://api.deepl.com/v2

# ============ 日志配置 ============
LOG_LEVEL=INFO
LOG_FORMAT=%(asctime)s - %(name)s - %(levelname)s - %(message)s

# ============ 监控配置 ============
MONITORING_PROMETHEUS_ENABLED=true
MONITORING_METRICS_PATH=/metrics
MONITORING_HEALTH_CHECK_PATH=/health

# Sentry错误追踪
SENTRY_DSN=your-sentry-dsn

# ============ 文件存储配置 ============
# MinIO/S3配置
STORAGE_ENDPOINT=localhost:9000
STORAGE_ACCESS_KEY=minioadmin
STORAGE_SECRET_KEY=minioadmin
STORAGE_BUCKET_NAME=gummy-translator
STORAGE_USE_SSL=false

# ============ 邮件配置 ============
SMTP_HOST=smtp.gmail.com
SMTP_PORT=587
SMTP_USER=your-email@gmail.com
SMTP_PASSWORD=your-app-password
SMTP_TLS=true

# ============ 缓存配置 ============
CACHE_TTL_DEFAULT=3600
CACHE_TTL_TRANSLATION=7200
CACHE_TTL_USER_SESSION=1800

# ============ 业务配置 ============
MAX_TRANSLATION_LENGTH=5000
MAX_SESSION_DURATION=7200
MAX_UPLOAD_SIZE=10485760  # 10MB

# 支持的语言（JSON格式）
SUPPORTED_LANGUAGES=["zh", "en", "ja", "ko", "fr", "de", "es", "ru", "ar", "pt"]

# ============ 开发工具配置 ============
# 是否启用API文档
ENABLE_DOCS=true

# 是否启用调试工具
ENABLE_DEBUG_TOOLBAR=false

# 测试数据库（仅开发环境）
TEST_DATABASE_URL=postgresql://postgres:postgres123@localhost:5432/gummy_translator_test

# ============ 部署配置 ============
# Docker配置
DOCKER_REGISTRY=registry.example.com
DOCKER_TAG=latest

# Kubernetes配置
KUBERNETES_NAMESPACE=gummy-translator
KUBERNETES_CONFIG_PATH=~/.kube/config

# ============ 第三方服务配置 ============
# 支付服务（如果需要）
STRIPE_PUBLISHABLE_KEY=pk_test_xxx
STRIPE_SECRET_KEY=sk_test_xxx
STRIPE_WEBHOOK_SECRET=whsec_xxx

# 用户分析
ANALYTICS_TRACKING_ID=UA-XXXXXXXXX-X

# CDN配置
CDN_DOMAIN=cdn.gummy-translator.com

# ============ 功能开关 ============
FEATURE_VOICE_INTERACTION=true
FEATURE_SCENE_RECOGNITION=true
FEATURE_BATCH_TRANSLATION=true
FEATURE_COLLABORATION=false
FEATURE_ADVANCED_ANALYTICS=false

# ============ API Gateway 上游服务 ============
VOICE_INTERACTION_URL=http://localhost:8001
SCENE_RECOGNITION_URL=http://localhost:8003
TRANSLATION_URL=http://localhost:8002
AI_ROUTER_URL=http://localhost:8001
USER_MANAGEMENT_URL=http://localhost:8005
CONFIG_MANAGEMENT_URL=http://localhost:8006
API_GATEWAY_RATE_LIMIT=120

# CORS configuration (逗号分隔来源，使用 * 表示允许任意来源且禁用凭据)
ALLOWED_ORIGINS=http://localhost:3000,http://127.0.0.1:3000

# TLS configuration (可选，如需启用 HTTPS 请提供证书路径)
#SSL_CERTFILE=D:/nginx/certs/192.168.132.26+2.pem
#SSL_KEYFILE=D:/nginx/certs/192.168.132.26+2-key.pem
# 单独为服务指定证书时可使用前缀：
#AI_ROUTER_SSL_CERTFILE=D:/nginx/certs/192.168.132.26+2.pem
#AI_ROUTER_SSL_KEYFILE=D:/nginx/certs/192.168.132.26+2-key.pem

# 若需强制禁用 TLS（即使配置了证书），设置：
#SSL_DISABLE=1

ALLOWED_ORIGINS=http://localhost:3000,http://localhost:3060,http://127.0.0.1:3000,http://127.0.0.1:3060,http://192.168.2.11:3060,http://192.168.2.16:3060,https://192.168.2.10:3000,https://192.168.2.10:3060,http://192.168.132.249:3060,http://192.168.132.249:3000,https://192.168.132.120:3060,https://192.168.132.120:3000
